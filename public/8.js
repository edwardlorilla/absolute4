webpackJsonp([8],{458:function(e,s,r){var i=r(36)(r(949),r(950),!1,null,null,null);e.exports=i.exports},949:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{isDisabled:!1,labelPosition:"left",errors:{division:{name:"",station:""}},form:{name:"",email:"",password:"",confirm_password:""},division:{name:"",station:""},checkAllRoles:!1,isIndeterminate:!0,roles:[],checkRoles:[],isUser:!1}},beforeRouteEnter:function(e,s,r){e.params.id?axios.get("/api/"+e.meta.url+"/"+e.params.id).then(function(e){r(function(s){return s.setData(e.data)})}):axios.get("/api/"+e.meta.url+"/create").then(function(e){r(function(s){return s.setData(e.data)})})},beforeRouteUpdate:function(e,s,r){var i=this;e.params.id?axios.get("/api/"+e.meta.url+"/"+e.params.id).then(function(e){i.setData(e.data),r()}):r()},methods:{contains:function(e,s){for(var r=e.length;r--;)if(e[r]===s)return!0;return!1},handleCheckAllRolesChange:function(e){this.checkRoles=e?_.map(this.roles,"id"):[],this.isIndeterminate=!1},handleCheckedRolesChange:function(e){var s=this,r=e.length;s.contains(e,3)?s.isUser=!0:s.isUser=!1,s.checkAllRole=r===s.roles.length,s.isIndeterminate=r>0&&r<s.roles.length},onSubmit:function(){var e=this;e.isDisabled=!0,e.errors=[];var s=_.clone(e.form);s.roles=e.checkRoles,e.isUser&&(s.division=e.division),axios.post("/api/"+e.$route.meta.url,s).then(function(s){e.$message({message:s.statusText,type:"success"}),e.isDisabled=!1}).catch(function(s){s.response.data.errors&&s.response.data.message&&(e.errors=s.response.data.errors,e.$message({message:s.response.data.message,type:"error"})),e.isDisabled=!1})},setData:function(e){var s=this;s.roles=e.roles,e.user?(s.form=e.user,s.division=e.user.division,s.checkRoles=_.map(s.form.roles,"id"),s.contains(s.checkRoles,3)?s.isUser=!0:s.isUser=!1):(s.isUser=!0,s.checkRoles=[3])}}}},950:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h5",{staticClass:"m-0"},[e._v(e._s(e.$route.meta.type)+" "+e._s(e.$route.meta.title))])]),e._v(" "),r("div",{staticClass:"card-body"},[r("el-form",{ref:"form",attrs:{"label-position":"labelPosition",size:"small","label-width":"200px",model:e.form},nativeOn:{submit:function(s){return s.preventDefault(),e.onSubmit(s)}}},[r("el-form-item",{class:e.errors.name?"is-error is-required":"",attrs:{label:"Name"}},[r("el-input",{attrs:{type:"text",required:""},model:{value:e.form.name,callback:function(s){e.$set(e.form,"name",s)},expression:"form.name"}}),e._v(" "),e._l(e.errors.name,function(s){return e.errors.name?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            "+e._s(s)+"\n                        ")]):e._e()})],2),e._v(" "),r("el-form-item",{class:e.errors.email?"is-error is-required":"",attrs:{label:"Email"}},[r("el-input",{attrs:{type:"email",required:""},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}}),e._v(" "),e._l(e.errors.email,function(s){return e.errors.email?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            "+e._s(s)+"\n                        ")]):e._e()})],2),e._v(" "),r("el-form-item",{class:e.errors.password?"is-error is-required":"",attrs:{label:"Password"}},[r("el-input",{attrs:{type:"password",required:""},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),e._v(" "),e._l(e.errors.password,function(s){return e.errors.password?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            "+e._s(s)+"\n                        ")]):e._e()})],2),e._v(" "),r("el-form-item",{class:e.errors.confirm_password?"is-error is-required":"",attrs:{label:"Confirm Password"}},[r("el-input",{attrs:{type:"password",required:""},model:{value:e.form.confirm_password,callback:function(s){e.$set(e.form,"confirm_password",s)},expression:"form.confirm_password"}}),e._v(" "),e._l(e.errors.confirm_password,function(s){return e.errors.confirm_password?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            "+e._s(s)+"\n                        ")]):e._e()})],2),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.isDisabled},on:{click:e.onSubmit}},[e._v(e._s(e.$route.meta.type)+"\n                        ")]),e._v(" "),r("el-button",{on:{click:function(s){e.$router.push("/"+e.$route.meta.url)}}},[e._v("Cancel")])],1)],1)],1)])]),e._v(" "),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card",class:e.errors.roles?"card-danger":""},[e._m(0),e._v(" "),r("div",{staticClass:"card-body"},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllRolesChange},model:{value:e.checkAllRoles,callback:function(s){e.checkAllRoles=s},expression:"checkAllRoles"}},[e._v("Check all\n                ")]),e._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),r("el-checkbox-group",{on:{change:e.handleCheckedRolesChange},model:{value:e.checkRoles,callback:function(s){e.checkRoles=s},expression:"checkRoles"}},e._l(e.roles,function(s,i){return r("el-checkbox",{key:s.id,attrs:{label:s.id}},[e._v("\n                        "+e._s(s.display_name)+"\n                    ")])}))],1)]),e._v(" "),e.isUser?r("div",{staticClass:"card"},[e._m(1),e._v(" "),r("div",{staticClass:"card-body"},[r("el-form",{attrs:{"label-width":"200px",size:"small"}},[r("el-form-item",{class:e.errors["division.name"]?"is-error is-required":"",attrs:{label:"Code"}},[r("el-input",{attrs:{required:""},model:{value:e.division.name,callback:function(s){e.$set(e.division,"name",s)},expression:"division.name"}}),e._v(" "),e._l(e.errors["division.name"],function(s){return e.errors["division.name"]?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            Division Code field is required\n                        ")]):e._e()})],2),e._v(" "),r("el-form-item",{class:e.errors["division.station"]?"is-error is-required":"",attrs:{label:"Station"}},[r("el-input",{attrs:{required:""},model:{value:e.division.station,callback:function(s){e.$set(e.division,"station",s)},expression:"division.station"}}),e._v(" "),e._l(e.errors["division.station"],function(s){return e.errors["division.station"]?r("div",{staticClass:"el-form-item__error"},[e._v("\n                            Division Station is required\n                        ")]):e._e()})],2)],1)],1)]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"card-header"},[s("h5",{staticClass:"m-0"},[this._v("Roles")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"card-header"},[s("h5",{staticClass:"m-0"},[this._v("User Division")])])}]}}});