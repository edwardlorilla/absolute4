webpackJsonp([2],{461:function(t,e,n){var i=n(36)(n(973),n(974),!1,function(t){n(971)},null,null);t.exports=i.exports},971:function(t,e,n){var i=n(972);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(96)("0ccdfd41",i,!0,{})},972:function(t,e,n){(t.exports=n(30)(!1)).push([t.i,"",""])},973:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{form:{name:"",description:"",reorder_point:"",unit_cost:"",unit:"",dispensing_unit:""},unit_cost:0,unit_id:"",isAddDispensingUnit:!1,unit_name:"",dispensing_unit_id:"",isAddUnit:!1,racks:[],categories:[],packages:[],isDisabled:!1,labelPosition:"left",errors:[],medicines:[],loading:!1,units:[],dispensing_units:[]}},beforeRouteEnter:function(t,e,n){t.params.id?axios.get("/api/supplies/edit/"+t.params.id).then(function(t){n(function(e){return e.setData(t.data)})}):n()},beforeRouteUpdate:function(t,e,n){var i=this;t.params.id?axios.get("/api/supplies/edit/"+t.params.id).then(function(t){i.setData(t.data),n()}):n()},methods:{setData:function(t){this.form=t},search_unit:function(t){var e=this;""!==t?(e.loading=!0,e.onSearchUnit(t,e)):(e.loading=!1,e.units=[])},onSearchUnit:_.debounce(function(t,e){e.getUnit(t).then(function(t){e.loading=!1,e.units=t.data.map(function(t){return{value:t,label:t.name}})}).catch(function(){e.loading=!1})},350),search_dispensing_unit:function(t){var e=this;""!==t?(e.loading=!0,e.onSearchDispensingUnit(t,e)):(e.loading=!1,e.dispensing_units=[])},getUnit:function(t){return axios.get("/api/search/units?search="+t)},onSearchDispensingUnit:_.debounce(function(t,e){e.getUnit(t).then(function(t){e.loading=!1,e.dispensing_units=t.data.map(function(t){return{value:t,label:t.name}})}).catch(function(){e.loading=!1})},350),onSubmit:function(){var t=this;t.isDisabled=!0,t.errors=[],axios.post("/api/"+t.$route.meta.url,t.form).then(function(e){t.$message({message:e.statusText,type:"success"}),t.isDisabled=!1,t.form={name:"",description:"",reorder_point:"",unit_cost:"",unit:"",dispensing_unit:""}}).catch(function(e){console.log(e),e&&e.response.data.errors&&e.response.data.message&&(t.errors=e.response.data.errors,t.$message({message:e.response.data.message,type:"error"})),t.isDisabled=!1})}}}},974:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"card"},[t._m(0),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"form-group has-feedback"},[n("label",{attrs:{for:"name"}},[t._v("Item Name")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control form-control-sm",class:t.errors.name?"is-invalid":"",attrs:{required:"",type:"text",id:"name",name:"name",placeholder:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t._l(t.errors.name,function(e){return t.errors.name?n("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[n("strong",[t._v(t._s(e))])]):t._e()})],2),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",id:"description",name:"description",placeholder:"description"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group has-feedback"},[n("label",{attrs:{for:"reorder_point"}},[t._v("Reorder Point")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.reorder_point,expression:"form.reorder_point"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"number",min:"1",id:"reorder_point",name:"reorder_point",placeholder:"reorder_point"},domProps:{value:t.form.reorder_point},on:{input:function(e){e.target.composing||t.$set(t.form,"reorder_point",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"unit_cost"}},[t._v("Unit Cost")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.unit_cost,expression:"form.unit_cost"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"number",min:"1",id:"unit_cost",name:"unit_cost",placeholder:"Unit Cost"},domProps:{value:t.form.unit_cost},on:{input:function(e){e.target.composing||t.$set(t.form,"unit_cost",e.target.value)}}})])])])]),t._v(" "),n("div",{staticClass:"card-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!(t.form.name&&t.form.description&&t.form.reorder_point&&t.form.unit_cost),loading:t.isDisabled}},[t._v("Save Information\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.$router.push("/"+t.$route.meta.url)}}},[t._v("\n                        Cancel\n                    ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"m-0"},[this._v("Add New Supply")])])}]}}});