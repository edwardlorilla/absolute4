webpackJsonp([10],{440:function(t,e,a){var n=a(36)(a(855),a(870),!1,null,null,null);t.exports=n.exports},816:function(t,e,a){var n=a(36)(a(817),a(818),!1,null,null,null);t.exports=n.exports},817:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"]}},818:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:this.data.products}},[e("el-table-column",{attrs:{prop:"name",label:"Product Name"}}),this._v(" "),e("el-table-column",{attrs:{prop:"out_quantity",label:"Quantity"}})],1)},staticRenderFns:[]}},819:function(t,e,a){var n=a(36)(a(820),a(821),!1,null,null,null);t.exports=n.exports},820:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"]}},821:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:this.data.supplies}},[e("el-table-column",{attrs:{prop:"name",label:"Product Name"}}),this._v(" "),e("el-table-column",{attrs:{prop:"description",label:"Description"}}),this._v(" "),e("el-table-column",{attrs:{prop:"out_quantity",label:"Quantity"}}),this._v(" "),e("el-table-column",{attrs:{prop:"out_quantity",label:"Quantity"}})],1)},staticRenderFns:[]}},855:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(a(856)),r=s(a(861)),i=s(a(864)),o=s(a(867));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Transaction:n.default,Product:r.default,Notifications:i.default,RecentExpireMedicine:o.default},data:function(){return{transactions:[],notifications:[],expires:[],expiredColumn:[{label:"Product Name",prop:"data.data.medicine.name",sort:!0},{label:"Expire Date",prop:"data.data.expiry_date",sort:!0}],columns:[{label:"User Name",prop:"notifiable.name",sort:!0},{label:"Email",prop:"notifiable.email",sort:!0},{label:"Message",prop:"data.message",sort:!0}]}},beforeRouteEnter:function(t,e,a){axios.get("/api/dashboard").then(function(t){a(function(e){return e.setData(t.data)})})},beforeRouteUpdate:function(t,e,a){var n=this;axios.get("/api/dashboard").then(function(t){n.setData(t.data),a()})},methods:{setData:function(t){var e=this;e.transactions=t.transactions,e.notifications=t.notifications,e.expires=t.expires}}}},856:function(t,e,a){var n=a(36)(a(859),a(860),!1,function(t){a(857)},null,null);t.exports=n.exports},857:function(t,e,a){var n=a(858);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(96)("5d170364",n,!0,{})},858:function(t,e,a){(t.exports=a(30)(!1)).push([t.i,"",""])},859:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data$"],data:function(){return{transform:{chart:[{name:"IN",data:{}},{name:"OUT",data:{}}]}}},computed:{getChartData:function(){var t=this,e={},a=[];_.map(t.data$,function(n){var r=_.findIndex(t.transform.chart,["name",0===n.type?"OUT":"IN"]),i={};a.push(""+n.created_at.split(" ")[0]),i[""+n.created_at.split(" ")[0]]=0===n.type?e[n.created_at.split(" ")[0]+"_out"]>=0?++e[n.created_at.split(" ")[0]+"_out"]:e[n.created_at.split(" ")[0]+"_out"]=1:e[n.created_at.split(" ")[0]+"_in"]>=0?++e[n.created_at.split(" ")[0]+"_in"]:e[n.created_at.split(" ")[0]+"_in"]=1,_.merge(t.transform.chart[r].data,_.clone(i))});var n,r,i={},o=_.uniq(a);for(n=0;n<t.transform.chart.length;n++){for(i={},r=0;r<o.length;r++)_.isUndefined(t.transform.chart[n].data[o[r]])&&(i[o[r]]=0);_.merge(t.transform.chart[n].data,i)}return o}}}},860:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[0!=this.getChartData.length?e("line-chart",{attrs:{download:!0,data:this.transform.chart}}):this._e()],1)},staticRenderFns:[]}},861:function(t,e,a){var n=a(36)(a(862),a(863),!1,null,null,null);t.exports=n.exports},862:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data$"],data:function(){return{reload:!0,transform:{chart:[]}}},computed:{getChartData:function(){var t=this,e={},a=[];_.map(t.data$,function(n){var r=_.findIndex(t.transform.chart,["name",n.product.medicine.name]);-1===r&&(t.transform.chart.push({name:n.product.medicine.name,data:{}}),r=_.findIndex(t.transform.chart,["name",n.product.medicine.name]));var i={};a.push(""+n.created_at.split(" ")[0]),0===n.type&&(i[""+n.created_at.split(" ")[0]]=_.isUndefined(e[n.created_at.split(" ")[0]+"-out-"+n.product.id])?e[n.created_at.split(" ")[0]+"-out-"+n.product.id]=n.out_quantity:e[n.created_at.split(" ")[0]+"-out-"+n.product.id]+=n.out_quantity),_.merge(t.transform.chart[r].data,i)});var n,r,i={},o=_.uniq(a);for(n=0;n<t.transform.chart.length;n++){for(i={},r=0;r<o.length;r++)_.isUndefined(t.transform.chart[n].data[o[r]])&&(i[o[r]]=0);_.merge(t.transform.chart[n].data,i)}return o}}}},863:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return 0!=this.getChartData.length?e("line-chart",{attrs:{download:!0,data:this.transform.chart}}):this._e()},staticRenderFns:[]}},864:function(t,e,a){var n=a(36)(a(865),a(866),!1,null,null,null);t.exports=n.exports},865:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a(816)),r=i(a(819));function i(t){return t&&t.__esModule?t:{default:t}}e.default={components:{medicalRequest:n.default,medicalSupply:r.default},props:{createName:String,onCreateName:String,onEditName:{type:String,required:!1},onDelete:{type:String,required:!1},data:{},columns:Array,showEdit:{default:!0,type:Boolean},showCreate:{default:!0,type:Boolean},showDelete:{default:!0,type:Boolean}},data:function(){return{search:this.$route.query.search?this.$route.query.search:"",loading:!1}},methods:{handleSortChange:function(t){var e=_.clone(this.$route.query);e.column=t.prop,e.direction="ascending"==t.order?"asc":"desc",this.onRouteChange(e)},handleCurrentChange:function(t){var e=_.clone(this.$route.query);e.page=t,this.onRouteChange(e)},onRouteChange:function(t){var e=this;e.loading=!0,e.$router.push({path:""+e.$route.path,query:t},function(){e.loading=!1},function(){e.loading=!1})},search_:function(){this.onSearch(this.search,this)},onSearch:_.debounce(function(t,e){(e=this).loading=!0,e.$router.push({path:""+e.$route.path,query:{search:t}},function(){e.loading=!1},function(){e.loading=!1})},500),handleEdit:function(t,e){this.$router.push({name:this.onEditName,params:{id:e.id}})},handleDelete:function(t,e){var a=this,n=this;n.loading=!0,n.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){axios.delete((n.onDelete?n.onDelete:"/api/agencies")+"/"+e.id),n.$emit("delete",t),a.$message({type:"success",message:"Delete completed"}),n.loading=!1}).catch(function(){a.$message({type:"info",message:"Delete canceled"}),n.loading=!1})}}}},866:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[t.onCreateName&&t.showCreate?a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push({name:t.onCreateName})}}},[t._v(t._s(t.createName))])],1):t._e()],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data.data},on:{"sort-change":t.handleSortChange}},[t._t("default"),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[a(t.row.data.type,{tag:"component",attrs:{data:t.row.data.data}})]}}])}),t._v(" "),t._l(t.columns,function(t,e,n){return a("el-table-column",{key:e+"-"+n+"-"+t.prop+"-"+t.label,attrs:{sortable:!!t.sort,label:t.label,prop:t.prop}})}),t._v(" "),a("el-table-column",{attrs:{label:"Status",prop:"data.status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"pending"===e.row.data.status?"primary":"rejected"===e.row.data.status?"danger":"success"}},[t._v(t._s(e.row.data.status))])]}}])}),t._v(" "),t.showEdit||t.showDelete?a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"Type to search"},on:{input:t.search_},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[t.showEdit?a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("Edit\n                ")]):t._e(),t._v(" "),t.showDelete?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("Delete\n                ")]):t._e()]}}])}):t._e()],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.data.current_page,"page-size":t.data.per_page,layout:"total, prev, pager, next, jumper",total:t.data.total},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]}},867:function(t,e,a){var n=a(36)(a(868),a(869),!1,null,null,null);t.exports=n.exports},868:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{createName:String,onCreateName:String,onEditName:{type:String,required:!1},onDelete:{type:String,required:!1},data:{},columns:Array,showEdit:{default:!0,type:Boolean},showCreate:{default:!0,type:Boolean},showDelete:{default:!0,type:Boolean}},data:function(){return{search:this.$route.query.search?this.$route.query.search:"",loading:!1}},methods:{handleSortChange:function(t){var e=_.clone(this.$route.query);e.column=t.prop,e.direction="ascending"==t.order?"asc":"desc",this.onRouteChange(e)},handleCurrentChange:function(t){var e=_.clone(this.$route.query);e.page=t,this.onRouteChange(e)},onRouteChange:function(t){var e=this;e.loading=!0,e.$router.push({path:""+e.$route.path,query:t},function(){e.loading=!1},function(){e.loading=!1})},search_:function(){this.onSearch(this.search,this)},onSearch:_.debounce(function(t,e){(e=this).loading=!0,e.$router.push({path:""+e.$route.path,query:{search:t}},function(){e.loading=!1},function(){e.loading=!1})},500),handleEdit:function(t,e){this.$router.push({name:this.onEditName,params:{id:e.id}})},handleDelete:function(t,e){var a=this,n=this;n.loading=!0,n.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){axios.delete((n.onDelete?n.onDelete:"/api/agencies")+"/"+e.id),n.$emit("delete",t),a.$message({type:"success",message:"Delete completed"}),n.loading=!1}).catch(function(){a.$message({type:"info",message:"Delete canceled"}),n.loading=!1})}}}},869:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[t.onCreateName&&t.showCreate?a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push({name:t.onCreateName})}}},[t._v(t._s(t.createName))])],1):t._e()],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data.data},on:{"sort-change":t.handleSortChange}},[t._t("default"),t._v(" "),t._l(t.columns,function(t,e,n){return a("el-table-column",{key:e+"-"+n+"-"+t.prop+"-"+t.label,attrs:{sortable:!!t.sort,label:t.label,prop:t.prop}})}),t._v(" "),t.showEdit||t.showDelete?a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"Type to search"},on:{input:t.search_},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[t.showEdit?a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("Edit\n                ")]):t._e(),t._v(" "),t.showDelete?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("Delete\n                ")]):t._e()]}}])}):t._e()],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.data.current_page,"page-size":t.data.per_page,layout:"total, prev, pager, next, jumper",total:t.data.total},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]}},870:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[t.transactions.length?a("div",[a("transaction",{attrs:{data$:t.transactions}})],1):a("div",[t._v("\n                        You don't have any data\n                    ")])])])]),t._v(" "),a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[t._m(1),t._v(" "),a("div",{staticClass:"card-body"},[t.transactions.length?a("div",[a("product",{attrs:{data$:t.transactions}})],1):a("div",[t._v("\n                        You don't have any data\n                    ")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[t._m(2),t._v(" "),a("div",{staticClass:"card-body"},[t.notifications?a("div",[t.notifications.data?a("notifications",{attrs:{columns:t.columns,data:t.notifications,"show-edit":!1,"show-create":!1,"show-delete":!1}}):t._e()],1):a("div",[t._v("\n                        You don't have any data\n                    ")])])])]),t._v(" "),a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[t._m(3),t._v(" "),a("div",{staticClass:"card-body"},[t.expires.data?a("recent-expire-medicine",{attrs:{columns:t.expiredColumn,data:t.expires,"show-edit":!1,"show-create":!1,"show-delete":!1}}):t._e()],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header d-flex p-0 ui-sortable-handle",staticStyle:{cursor:"move"}},[e("h3",{staticClass:"card-title p-3"},[e("i",{staticClass:"fa fa-pie-chart mr-1"}),this._v("\n                        Transactions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header d-flex p-0 ui-sortable-handle",staticStyle:{cursor:"move"}},[e("h3",{staticClass:"card-title p-3"},[e("i",{staticClass:"fa fa-pie-chart mr-1"}),this._v("\n                        Products\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header d-flex p-0 ui-sortable-handle",staticStyle:{cursor:"move"}},[e("h3",{staticClass:"card-title p-3"},[e("i",{staticClass:"fa fa-pie-chart mr-1"}),this._v("\n                        Notifications")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header d-flex p-0 ui-sortable-handle",staticStyle:{cursor:"move"}},[e("h3",{staticClass:"card-title p-3"},[e("i",{staticClass:"fa fa-pie-chart mr-1"}),this._v("\n                        Recent Expired Medicine")])])}]}}});